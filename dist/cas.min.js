/*! cas - v0.1.0 - 2013-09-28
* Copyright (c) 2013 ; Licensed  */
function trim(a){return(a||"").replace(/^\s+|\s+$/g,"")}var css={parse:function(a,b){function c(a){var b=a.match(/\n/g);b&&(D+=b.length);var c=a.lastIndexOf("\n");E=~c?a.length-c:E+a.length}function d(){var a={line:D,column:E};return b.position?function(b){return b.position={start:a,end:{line:D,column:E}},l(),b}:e}function e(a){return l(),a}function f(b){var c=new Error(b+" near line "+D+":"+E);throw c.line=D,c.column=E,c.source=a,c}function g(){return{type:"stylesheet",stylesheet:{rules:j()}}}function h(){return k(/^{\s*/)}function i(){return k(/^}/)}function j(){var b,c=[];for(l(),m(c);"}"!=a.charAt(0)&&(b=B()||C());)c.push(b),m(c);return c}function k(b){var d=b.exec(a);if(d){var e=d[0];return c(e),a=a.slice(e.length),d}}function l(){k(/^\s*/)}function m(a){var b;for(a=a||[];b=n();)a.push(b);return a}function n(){var b=d();if("/"==a.charAt(0)&&"*"==a.charAt(1)){for(var e=2;null!=a.charAt(e)&&("*"!=a.charAt(e)||"/"!=a.charAt(e+1));)++e;e+=2;var f=a.slice(2,e-2);return E+=2,c(f),a=a.slice(e),E+=2,b({type:"comment",comment:f})}}function o(){var a=k(/^([^{]+)/);if(a)return trim(a[0]).split(/\s*,\s*/)}function p(){var a=d(),b=k(/^(\*?[-\/\*\w]+(\[[0-9a-z_-]+\])?)\s*/);if(b){if(b=trim(b[0]),!k(/^:\s*/))return f("property missing ':'");var c=k(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/);if(!c)return f("property missing value");var e=a({type:"declaration",property:b,value:trim(c[0])});return k(/^[;\s]*/),e}}function q(){var a=[];if(!h())return f("missing '{'");m(a);for(var b;b=p();)a.push(b),m(a);return i()?a:f("missing '}'")}function r(){for(var a,b=[],c=d();a=k(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)b.push(a[1]),k(/^,\s*/);return b.length?c({type:"keyframe",values:b,declarations:q()}):void 0}function s(){var a=d(),b=k(/^@([-\w]+)?keyframes */);if(b){var c=b[1],b=k(/^([-\w]+)\s*/);if(!b)return f("@keyframes missing name");var e=b[1];if(!h())return f("@keyframes missing '{'");for(var g,j=m();g=r();)j.push(g),j=j.concat(m());return i()?a({type:"keyframes",name:e,vendor:c,keyframes:j}):f("@keyframes missing '}'")}}function t(){var a=d(),b=k(/^@supports *([^{]+)/);if(b){var c=trim(b[1]);if(!h())return f("@supports missing '{'");var e=m().concat(j());return i()?a({type:"supports",supports:c,rules:e}):f("@supports missing '}'")}}function u(){var a=d(),b=k(/^@media *([^{]+)/);if(b){var c=trim(b[1]);if(!h())return f("@media missing '{'");var e=m().concat(j());return i()?a({type:"media",media:c,rules:e}):f("@media missing '}'")}}function v(){var a=d(),b=k(/^@page */);if(b){var c=o()||[];if(!h())return f("@page missing '{'");for(var e,g=m();e=p();)g.push(e),g=g.concat(m());return i()?a({type:"page",selectors:c,declarations:g}):f("@page missing '}'")}}function w(){var a=d(),b=k(/^@([-\w]+)?document *([^{]+)/);if(b){var c=trim(b[1]),e=trim(b[2]);if(!h())return f("@document missing '{'");var g=m().concat(j());return i()?a({type:"document",document:e,vendor:c,rules:g}):f("@document missing '}'")}}function x(){return A("import")}function y(){return A("charset")}function z(){return A("namespace")}function A(a){var b=d(),c=k(new RegExp("^@"+a+" *([^;\\n]+);"));if(c){var e={type:a};return e[a]=trim(c[1]),b(e)}}function B(){return s()||u()||t()||x()||y()||z()||w()||v()}function C(){var a=d(),b=o();return b?(m(),a({type:"rule",selectors:b,declarations:q()})):void 0}b=b||{};var D=1,E=1;return g()}};"undefined"!=typeof exports&&(exports.css=css,global.css=css),function(){var a,b;!function(){var c={},d={};a=function(a,b,d){c[a]={deps:b,callback:d}},b=function(a){if(d[a])return d[a];d[a]={};var e=c[a];if(!e)throw new Error("Module '"+a+"' not found.");for(var f,g=e.deps,h=e.callback,i=[],j=0,k=g.length;k>j;j++)"exports"===g[j]?i.push(f={}):i.push(b(g[j]));var l=h.apply(this,i);return d[a]=f||l}}(),a("rsvp/all",["rsvp/promise","exports"],function(a,b){"use strict";function c(a){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("You must pass an array to all.");return new d(function(b,c){function d(a){return function(b){e(a,b)}}function e(a,c){g[a]=c,0===--h&&b(g)}var f,g=[],h=a.length;0===h&&b([]);for(var i=0;i<a.length;i++)f=a[i],f&&"function"==typeof f.then?f.then(d(i),c):e(i,f)})}var d=a.Promise;b.all=c}),a("rsvp/async",["exports"],function(a){"use strict";function b(){return function(a,b){process.nextTick(function(){a(b)})}}function c(){return function(a,b){setImmediate(function(){a(b)})}}function d(){var a=[],b=new h(function(){var b=a.slice();a=[],b.forEach(function(a){var b=a[0],c=a[1];b(c)})}),c=document.createElement("div");return b.observe(c,{attributes:!0}),window.addEventListener("unload",function(){b.disconnect(),b=null},!1),function(b,d){a.push([b,d]),c.setAttribute("drainQueue","drainQueue")}}function e(){return function(a,b){i.setTimeout(function(){a(b)},1)}}var f,g="undefined"!=typeof window?window:{},h=g.MutationObserver||g.WebKitMutationObserver,i="undefined"!=typeof global?global:this;f="function"==typeof setImmediate?c():"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():h?d():e(),a.async=f}),a("rsvp/config",["rsvp/async","exports"],function(a,b){"use strict";var c=a.async,d={};d.async=c,b.config=d}),a("rsvp/defer",["rsvp/promise","exports"],function(a,b){"use strict";function c(){var a={resolve:void 0,reject:void 0,promise:void 0};return a.promise=new d(function(b,c){a.resolve=b,a.reject=c}),a}var d=a.Promise;b.defer=c}),a("rsvp/events",["exports"],function(a){"use strict";var b=function(a,b){this.type=a;for(var c in b)b.hasOwnProperty(c)&&(this[c]=b[c])},c=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c][0]===b)return c;return-1},d=function(a){var b=a._promiseCallbacks;return b||(b=a._promiseCallbacks={}),b},e={mixin:function(a){return a.on=this.on,a.off=this.off,a.trigger=this.trigger,a},on:function(a,b,e){var f,g,h=d(this);for(a=a.split(/\s+/),e=e||this;g=a.shift();)f=h[g],f||(f=h[g]=[]),-1===c(f,b)&&f.push([b,e])},off:function(a,b){var e,f,g,h=d(this);for(a=a.split(/\s+/);f=a.shift();)b?(e=h[f],g=c(e,b),-1!==g&&e.splice(g,1)):h[f]=[]},trigger:function(a,c){var e,f,g,h,i,j=d(this);if(e=j[a])for(var k=0;k<e.length;k++)f=e[k],g=f[0],h=f[1],"object"!=typeof c&&(c={detail:c}),i=new b(a,c),g.call(h,i)}};a.EventTarget=e}),a("rsvp/hash",["rsvp/defer","exports"],function(a,b){"use strict";function c(a){var b=0;for(var c in a)b++;return b}function d(a){var b={},d=e(),f=c(a);0===f&&d.resolve({});var g=function(a){return function(b){h(a,b)}},h=function(a,c){b[a]=c,0===--f&&d.resolve(b)},i=function(a){d.reject(a)};for(var j in a)a[j]&&"function"==typeof a[j].then?a[j].then(g(j),i):h(j,a[j]);return d.promise}var e=a.defer;b.hash=d}),a("rsvp/node",["rsvp/promise","rsvp/all","exports"],function(a,b,c){"use strict";function d(a,b){return function(c,d){c?b(c):arguments.length>2?a(Array.prototype.slice.call(arguments,1)):a(d)}}function e(a){return function(){var b,c,e=Array.prototype.slice.call(arguments),h=this,i=new f(function(a,d){b=a,c=d});return g(e).then(function(e){e.push(d(b,c));try{a.apply(h,e)}catch(f){c(f)}}),i}}var f=a.Promise,g=b.all;c.denodeify=e}),a("rsvp/promise",["rsvp/config","rsvp/events","exports"],function(a,b,c){"use strict";function d(a){return e(a)||"object"==typeof a&&null!==a}function e(a){return"function"==typeof a}function f(a){k.onerror&&k.onerror(a.detail)}function g(a,b){a===b?i(a,b):h(a,b)||i(a,b)}function h(a,b){var c,f=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(d(b)&&(f=b.then,e(f)))return f.call(b,function(d){return c?!0:(c=!0,b!==d?g(a,d):i(a,d),void 0)},function(b){return c?!0:(c=!0,j(a,b),void 0)}),!0}catch(h){return j(a,h),!0}return!1}function i(a,b){k.async(function(){a.trigger("promise:resolved",{detail:b}),a.isFulfilled=!0,a.fulfillmentValue=b})}function j(a,b){k.async(function(){a.trigger("promise:failed",{detail:b}),a.isRejected=!0,a.rejectedReason=b})}var k=a.config,l=b.EventTarget,m=function(a){var b=this,c=!1;if("function"!=typeof a)throw new TypeError("You must pass a resolver function as the sole argument to the promise constructor");if(!(b instanceof m))return new m(a);var d=function(a){c||(c=!0,g(b,a))},e=function(a){c||(c=!0,j(b,a))};this.on("promise:failed",function(a){this.trigger("error",{detail:a.detail})},this),this.on("error",f);try{a(d,e)}catch(h){e(h)}},n=function(a,b,c,d){var f,i,k,l,m=e(c);if(m)try{f=c(d.detail),k=!0}catch(n){l=!0,i=n}else f=d.detail,k=!0;h(b,f)||(m&&k?g(b,f):l?j(b,i):"resolve"===a?g(b,f):"reject"===a&&j(b,f))};m.prototype={constructor:m,isRejected:void 0,isFulfilled:void 0,rejectedReason:void 0,fulfillmentValue:void 0,then:function(a,b){this.off("error",f);var c=new this.constructor(function(){});return this.isFulfilled&&k.async(function(b){n("resolve",c,a,{detail:b.fulfillmentValue})},this),this.isRejected&&k.async(function(a){n("reject",c,b,{detail:a.rejectedReason})},this),this.on("promise:resolved",function(b){n("resolve",c,a,b)}),this.on("promise:failed",function(a){n("reject",c,b,a)}),c},fail:function(a){return this.then(null,a)}},l.mixin(m.prototype),c.Promise=m}),a("rsvp/reject",["rsvp/promise","exports"],function(a,b){"use strict";function c(a){return new d(function(b,c){c(a)})}var d=a.Promise;b.reject=c}),a("rsvp/resolve",["rsvp/promise","exports"],function(a,b){"use strict";function c(a){return new d(function(b){b(a)})}var d=a.Promise;b.resolve=c}),a("rsvp/rethrow",["exports"],function(a){"use strict";function b(a){throw c.setTimeout(function(){throw a}),a}var c="undefined"==typeof global?this:global;a.rethrow=b}),a("rsvp",["rsvp/events","rsvp/promise","rsvp/node","rsvp/all","rsvp/hash","rsvp/rethrow","rsvp/defer","rsvp/config","rsvp/resolve","rsvp/reject","exports"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(a,b){t[a]=b}var m=a.EventTarget,n=b.Promise,o=c.denodeify,p=d.all,q=e.hash,r=f.rethrow,s=g.defer,t=h.config,u=i.resolve,v=j.reject;k.Promise=n,k.EventTarget=m,k.all=p,k.hash=q,k.rethrow=r,k.defer=s,k.denodeify=o,k.configure=l,k.resolve=u,k.reject=v}),window.RSVP=b("rsvp")}(window),function(a){"use strict";a.Promise=RSVP.Promise,a.Promise.all=RSVP.all,a.ParseMutationObserver=function(b){for(var c,d={},e=this,f=[],g=document.documentElement,h=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector,i=function(a){return 1===a.nodeType&&h.call(a,b)},j=new MutationObserver(function(a){for(var b,c=[],d=0;d<a.length;d++){b=a[d];for(var e=0;e<b.addedNodes.length;e++)i(b.addedNodes[e])&&c.push(b.addedNodes[e])}c.length>0&&l("notify",c)}),k=function(a,b){return function(){var c=a.call(e,b);c&&f.push(c)}},l=function(a,b){for(var c=d[a],e=(c||[]).length,f=0;e>f;f++)k(c[f],b)()},m=g.querySelectorAll(b),n=[],o=0;o<m.length;o++)i(m[o])&&n.push(m[o]);j.observe(g,{attributes:!1,subtree:!0,childList:!0}),this.on=function(a,b){d[a]=d[a]||[],d[a].push(b),c||(c=!0),l("notify",n)},this.disconnect=function(){j.disconnect()},document.addEventListener("DOMContentLoaded",function(){window.__domContentLoadedTime=Date.now(),c&&e.disconnect(!0),a.Promise.all(f).then(function(){for(var a=d.done,b=(a||[]).length,c=0;b>c;c++)d.done[c]()})})}}(window.ProllyfillRoot||window),function(a){var b=function(b){var c=new a.Promise(function(a,c){var d=new XMLHttpRequest,e=function(){this.readyState===this.DONE&&(200===this.status?a(this.response):c(this))};d.open("GET",b),d.onreadystatechange=e,d.responseType="text",d.setRequestHeader("Accept","text"),d.send()});return c},c=new a.ParseMutationObserver('link[type="text/x-cas"]',"setImmediate"),d=function(c){return b(c).then(function(b){a.cas.precompile(b)})};c.on("notify",function(b){for(var c=[],e=0;e<b.length;e++)c.push(d(b[e].href));return new a.Promise.all(c)}),c.on("done",function(){for(var b=document.querySelectorAll('script[type="text/x-cas"]'),c=0;c<b.length;c++)a.cas.precompile(b[c].innerHTML);var d=a.cas.compile();a.cas.init(d)})}("undefined"==typeof global?window:global),function(a){var b=[],c={expressions:function(){var a={pre:/\([^\)]+\)/,ids:/#[\d\w\-_]+/g,cls:/[\.:\[][^\.:\[+>]+/g,tag:/(^|[\s\+>])\w+/g};return a.chop=[a.ids,a.cls,a.tag],a},calculate:function(a){var b=c.expressions(),d=a.replace(b.pre,"");return parseInt(b.chop.map(function(a){var b=d.match(a);return b?b.length.toString(16):0}).join(""),16)}},d="cas._querySelectorAll = function (selector) { return Array.prototype.slice.call(document.querySelectorAll(selector)); };",e="cas._applyMutations = function (el, hash) { for (var name in hash) { el.setAttribute( name, hash[name]); }};",f="cas._applyCasProp = function (selector,hash) { cas._querySelectorAll(selector).forEach(function (el) { cas._applyMutations(el, hash) }); };",g="cas._applyCasListener = function (selector,state,evtName) { cas._querySelectorAll(selector).forEach(function (el) { el.addEventListener(state, window[evtName], false); } ); };",h={applyItem:'cas._applyCasProp("<selector>", <hash>, "<el>");',applyListener:'cas._applyCasListener("<selector>", "<state>", <hash>.attach, "<el>");'},i=[],j={pseudoclass:/:(.*)/,listener:/^on/},k={ordered:[],reset:function(){i=[d,e,f,g],k.ordered=[]},init:function(b){var c=new Function([],b);c(),a.cas.observe()},compile:function(){return b.forEach(function(a){i.push(a.command)}),b.sort(function(a,b){return a.specificity>b.specificity?1:a.specificity<b.specificity?-1:0}),i.push(";window.cas.ordered = "+JSON.stringify(b)),i.join("\n")},precompile:function(d){var e=a.css.parse(d);e.stylesheet.rules.forEach(function(a){"rule"===a.type&&a.selectors.forEach(function(d){var e,f,g=d.match(j.pseudoclass),i={};a.declarations.forEach(function(a){i[a.property]=a.value}),f=g&&j.listener.test(g[1])?"applyListener":"applyItem","applyItem"===f&&delete i.attach,e=h[f].replace("<selector>",d.replace(/:.*$/,"")).replace("<hash>",JSON.stringify(i)),"applyListener"===f&&(e=e.replace("<state>",g[1].replace(j.listener,""))),b.push({selector:d,specificity:c.calculate(d),command:e})})})}};k.reset(),"undefined"!=typeof exports&&(exports.cas=k),a.cas=k}("undefined"==typeof global?window:global),function(a){var b=document.documentElement,c=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector,d=function(a,b){return 1===a.nodeType&&c.call(a,b)};a.observe=function(){var b=new MutationObserver(function(b){for(var c,e=0;e<b.length;e++){c=b[e];for(var f=0;f<c.addedNodes.length;f++)for(var g=0;g<a.ordered.length;g++)d(c.addedNodes[f]),a.ordered[g].selector&&(a.ordered[g].compiled||(a.ordered[g].compiled=new Function(["el"],a.ordered[g].command.replace('"<el>"',"el"))),a.ordered[g].compiled(c.addedNodes[f]))}});b.observe(document,{attributes:!1,subtree:!0,childList:!0})}}("undefined"==typeof global?window.cas:global.cas);